// Place your key bindings in this file to override the defaults
[
  // 下にスクロール
  // {
  //   "key": "ctrl+d",
  //   "command": "editorScroll",
  //   "args": {
  //     "to": "down",
  //     "by": "halfPage",
  //     "revealCursor": true,
  //     "value": 1
  //   }
  // },
  // 上にスクロール
  // {
  //   "key": "ctrl+u",
  //   "command": "editorScroll",
  //   "args": {
  //     "to": "up",
  //     "by": "halfPage",
  //     "revealCursor": true,
  //     "value": 1
  //   }
  // },
  // エクスプローラーで新規ファイルを作成
  {
    "key": "cmd+n",
    "when": "filesExplorerFocus",
    "command": "explorer.newFile"
  },
  // エクスプローラーで新規フォルダを作成
  {
    "key": "shift+cmd+n",
    "when": "filesExplorerFocus",
    "command": "explorer.newFolder"
  },
  // エクスプローラーをリフレッシュ
  {
    "key": "cmd+r",
    "when": "filesExplorerFocus",
    "command": "workbench.files.action.refreshFilesExplorer"
  },
  // VSCodeウィンドウのリロード（デフォルトを復活）
  {
    "key": "cmd+r",
    "when": "!filesExplorerFocus",
    "command": "workbench.action.reloadWindow"
  },
  // タブの移動をChrome風に
  {
    "key": "ctrl+tab",
    "command": "workbench.action.nextEditor"
  },
  {
    "key": "ctrl+shift+tab",
    "command": "workbench.action.previousEditor"
  },
  // エディタグループのフォーカス
  {
    "key": "ctrl+w l",
    "command": "workbench.action.focusRightGroup"
  },
  {
    "key": "ctrl+w right",
    "command": "workbench.action.focusRightGroup"
  },
  {
    "key": "ctrl+w h",
    "command": "workbench.action.focusLeftGroup"
  },
  {
    "key": "ctrl+w left",
    "command": "workbench.action.focusLeftGroup"
  },
  {
    "key": "ctrl+w up",
    "command": "workbench.action.focusAboveGroup"
  },
  {
    "key": "ctrl+w down",
    "command": "workbench.action.focusBelowGroup"
  },
  // 番号指定でエディタグループにフォーカス
  {
    "key": "ctrl+w 1",
    "command": "workbench.action.focusFirstEditorGroup"
  },
  {
    "key": "ctrl+w 2",
    "command": "workbench.action.focusSecondEditorGroup"
  },
  {
    "key": "ctrl+w 3",
    "command": "workbench.action.focusThirdEditorGroup"
  },
  {
    "key": "ctrl+w 4",
    "command": "workbench.action.focusFourthEditorGroup"
  },
  // ターミナル分割ペイン間のフォーカス移動
  {
    "key": "ctrl+w h",
    "command": "workbench.action.terminal.focusPreviousPane",
    "when": "terminalFocus && terminalHasBeenCreated"
  },
  {
    "key": "ctrl+w l",
    "command": "workbench.action.terminal.focusNextPane",
    "when": "terminalFocus && terminalHasBeenCreated"
  },
  {
    "key": "ctrl+w j",
    "command": "workbench.action.terminal.focusNextPane",
    "when": "terminalFocus && terminalHasBeenCreated"
  },
  {
    "key": "ctrl+w k",
    "command": "workbench.action.terminal.focusPreviousPane",
    "when": "terminalFocus && terminalHasBeenCreated"
  },
  // ターミナル分割ペイン間のフォーカス移動（矢印キー）
  {
    "key": "ctrl+w left",
    "command": "workbench.action.terminal.focusPreviousPane",
    "when": "terminalFocus && terminalHasBeenCreated"
  },
  {
    "key": "ctrl+w right",
    "command": "workbench.action.terminal.focusNextPane",
    "when": "terminalFocus && terminalHasBeenCreated"
  },
  {
    "key": "ctrl+w down",
    "command": "workbench.action.terminal.focusNextPane",
    "when": "terminalFocus && terminalHasBeenCreated"
  },
  {
    "key": "ctrl+w up",
    "command": "workbench.action.terminal.focusPreviousPane",
    "when": "terminalFocus && terminalHasBeenCreated"
  },
  // ターミナルタブ間の移動
  {
    "key": "ctrl+tab",
    "command": "workbench.action.terminal.focusNext",
    "when": "terminalFocus"
  },
  {
    "key": "ctrl+shift+tab",
    "command": "workbench.action.terminal.focusPrevious",
    "when": "terminalFocus"
  },
  // エディタグループの移動
  {
    "key": "ctrl+w shift+l",
    "command": "workbench.action.moveEditorToNextGroup"
  },
  {
    "key": "ctrl+cmd+right",
    "command": "-workbench.action.moveEditorToNextGroup"
  },
  {
    "key": "ctrl+w shift+h",
    "command": "workbench.action.moveEditorToPreviousGroup"
  },
  {
    "key": "ctrl+cmd+left",
    "command": "-workbench.action.moveEditorToPreviousGroup"
  },
  {
    "key": "ctrl+r",
    "command": "workbench.action.openRecent"
  },
  // ターミナルにフォーカス
  {
    "key": "cmd+`",
    "command": "workbench.action.terminal.focus"
  },
  {
    "key": "shift+space",
    "command": "editor.action.triggerSuggest",
    "when": "editorTextFocus"
  },
  // gitgraphを開く
  {
    "key": "shift+cmd+g",
    "command": "-editor.action.previousMatchFindAction",
    "when": "editorFocus"
  },
  {
    "key": "shift+cmd+g",
    "command": "-workbench.action.terminal.findPrevious",
    "when": "terminalFindFocused && terminalProcessSupported || terminalFocus && terminalProcessSupported"
  },
  {
    "key": "shift+cmd+g",
    "command": "git-graph.view"
  },
  {
    "key": "shift+cmd+b",
    "command": "git.checkout"
  },
  // スニペットモードでtabキーで移動できるように
  {
    "key": "tab",
    "command": "-editor.emmet.action.expandAbbreviation",
    "when": "config.emmet.triggerExpansionOnTab && editorTextFocus && !editorReadonly && !editorTabMovesFocus"
  },
  {
    "key": "tab",
    "command": "-acceptSelectedSuggestion",
    "when": "suggestWidgetVisible && textInputFocus"
  },
  {
    "key": "tab",
    "command": "-editor.action.inlineSuggest.commit",
    "when": "inlineSuggestionVisible && !editorTabMovesFocus && !inlineSuggestionHasIndentation"
  },
  {
    "key": "tab",
    "command": "-extension.vim_tab",
    "when": "editorFocus && vim.active && !inDebugRepl && vim.mode != 'Insert'"
  },
  {
    "key": "tab",
    "command": "-insertBestCompletion",
    "when": "atEndOfWord && textInputFocus && !hasOtherSuggestions && !inSnippetMode && !suggestWidgetVisible && config.editor.tabCompletion == 'on'"
  },
  {
    "key": "tab",
    "command": "-insertNextSuggestion",
    "when": "hasOtherSuggestions && textInputFocus && !inSnippetMode && !suggestWidgetVisible && config.editor.tabCompletion == 'on'"
  },
  {
    "key": "tab",
    "command": "-insertSnippet",
    "when": "editorTextFocus && hasSnippetCompletions && !editorTabMovesFocus && !inSnippetMode"
  },
  {
    "key": "ctrl+d",
    "command": "-deleteRight",
    "when": "textInputFocus"
  },
  {
    "key": "ctrl+cmd+enter",
    "command": "copilot-labs.use-brush-picker",
    "when": "editorTextFocus"
  },
  {
    "key": "shift+alt+cmd+e",
    "command": "-copilot-labs.use-brush-picker",
    "when": "editorTextFocus"
  },
  {
    "key": "ctrl+c",
    "command": "editor.action.inlineSuggest.trigger",
    "when": "config.github.copilot.inlineSuggest.enable && editorTextFocus && !editorHasSelection && !inlineSuggestionsVisible"
  },
  {
    "key": "alt+\\",
    "command": "-editor.action.inlineSuggest.trigger",
    "when": "config.github.copilot.inlineSuggest.enable && editorTextFocus && !editorHasSelection && !inlineSuggestionsVisible"
  },
  // Claude Code用: ターミナル内での改行
  {
    "key": "shift+enter",
    "command": "workbench.action.terminal.sendSequence",
    "args": { "text": "\\\n" },
    "when": "terminalFocus"
  },
  // ターミナルで新しいタブを作成（Cmd+D）
  {
    "key": "cmd+d",
    "command": "workbench.action.terminal.new",
    "when": "terminalFocus"
  },
  // ターミナルで新しいタブを作成（Cmd+N）
  {
    "key": "cmd+n",
    "command": "workbench.action.terminal.new",
    "when": "terminalFocus"
  },
  // ターミナルタブを閉じる（Cmd+W）
  {
    "key": "cmd+w",
    "command": "workbench.action.terminal.kill",
    "when": "terminalFocus"
  },
  // Claude Code with bypass permissions (ターミナルで起動)
  {
    "key": "ctrl+shift+c",
    "command": "workbench.action.terminal.sendSequence",
    "args": { "text": "claude --dangerously-skip-permissions\n" },
    "when": "terminalFocus"
  }
]
